{% extends 'galeria/base.html' %}
{% load static %}
{% block content %}
<div id="loading-screen">
    <div class="spinner"></div>
    <p>Carregando...</p>
</div>
<script src="{% static './src/js/loading-screen.js'%}"></script>

<div class="sidebar">
    <div class="logo">
        <img src="{% static './src/logo/Y-corrigida-removebg-preview.png' %}" alt="">
        <span>Yourkut</span>
    </div>

    <ul class="side-items">
        <li class="side-item ativo">
            <span class="material-symbols-outlined side-icon">
                home
            </span>
            <a href="" class="side-text">Inicio</a>
        </li>
        <li class="side-item">
            <span class="material-symbols-outlined side-icon">
                search
            </span>
            <a href="" class="side-text">Pesquisa</a>
        </li>
        <li class="side-item">
            <span class="material-symbols-outlined side-icon">
                notifications
            </span>
            <a href="" class="side-text">Notificações</a>
        </li>
        <li class="side-item">
            <span class="material-symbols-outlined side-icon">
                group_add
            </span>
            <a href="" class="side-text">Amigos</a>
        </li>
        <li class="side-item">
            <span class="material-symbols-outlined side-icon">
                post_add
            </span>
            <a href="{% url 'postar' %}" class="side-text">Postar</a>
        </li>
        <li class="side-item">
            <span class="material-symbols-outlined side-icon">
                person
            </span>
            <a href="" class="side-text">Perfil</a>
        </li>
    </ul>

    <button class="sair" id="sair"><span href="{% url 'logout' %}" class="material-symbols-outlined">
            logout
        </span>Sair</button>
</div>

{% for message in messages %}
<div>
        <p id="messages">{{message}}</p>
</div>
{% endfor %}
<!-- Seção principal mano, aqui vai ter o contaneir pra aparecer os amigos e as postagens -->
<main class="main" id="main">
    <!-- container que vai aparecer os amigos, cada "amigo-info" e um amigo :) -->
    <section class="container-amigos">
        <div class="amigo-info">
            <img src="https://medias.itatiaia.com.br/dims4/default/a1b9025/2147483647/strip/false/crop/592x592+138+0/resize/1000x1000!/quality/90/?url=https%3A%2F%2Fk2-prod-radio-itatiaia.s3.us-east-1.amazonaws.com%2Fbrightspot%2F62%2F39%2F48d3321f45c0a0486830d4fd5971%2Fwhatsapp-image-2024-04-12-at-10-48-39.jpeg"
                alt="" class="amigo-imagem">
            <span class="amigo-user">ochicoin</span>
        </div>
    </section>

    <!-- container das postagens, cada "postagem" uma postagem -->
    <section class="container-postagens">
        {% for post in posts %}
          <div class="postagem" id="postagem">
            <div class="cabecalho-post">
              {% if post.autor.foto_perfil %}
                <img src="{{ post.autor.foto_perfil }}" alt="" class="user-imagem amigo-imagem">
              {% else %}
              <img src="{{ post.autor.foto_perfil }}" alt="" class="user-imagem amigo-imagem">
              {% endif %}
              <div class="user-info-post amigo-info">
                <span class="nome-post">{{ post.autor.username }}</span>
                <span class="user-post amigo-user">{{ post.autor.username }}</span>
              </div>
            </div>
            <img class="imagem-post" id="imagem-post"
            src="{% if post.imagem %}{{ post.imagem.url }}{% else %}{% static 'default_image.jpg' %}{% endif %}"
            alt="">
            <div class="text-post">
              <span class="user-post">{{ post.autor.username }}</span>
              <span class="legenda-post">{{ post.legenda }}</span>
            </div>
            <div class="acao-post">
              <button class="acao-btn btn-like" title="Curtir">
                <span class="material-symbols-outlined icon-like">
                  sentiment_neutral
                </span>
              </button>
              <button class="acao-btn btn-coment" title="Comentar">
                <span class="material-symbols-outlined icon-coment">
                  chat
                </span>
              </button>
            </div>
          </div>
        {% endfor %}
      </section>
      
</main>

<!-- Seção pro Comentario das publicações -->
<div class="modal-comentarios" id="modal-comentarios">
    <button class="fechar-modal-comentario" id="btn-fechar-modal"><span
            class="material-symbols-outlined">close</span></button>
    <!-- Aqui onde o usuario vai fazer o comentario -->
    <div class="postar-comentario">
        <div class="amigo-info my-info">
            <img src="https://conteudo.imguol.com.br/c/esporte/02/2024/06/13/kylian-mbappe-durante-jogo-da-selecao-francesa-1718298463535_v2_450x450.jpg"
                alt="" class="amigo-imagem">
            <span class="amigo-user my-user">jeanaraga</span>
        </div>
        <form action="" class="comentario-form">
            <textarea name="" id="comentario-textarea" placeholder="Faca um comentario..."></textarea>
            <button>Enviar</button>
        </form>
    </div>
    <!-- Aqui é onde vai estar os comentarios ja feito -->
    <div class="outros-comentarios">
        <!-- Cada "comentario" é um comentario :) -->
        <div class="comentario">
            <div class="amigo-info user-info">
                <img src="https://medias.itatiaia.com.br/dims4/default/a1b9025/2147483647/strip/false/crop/592x592+138+0/resize/1000x1000!/quality/90/?url=https%3A%2F%2Fk2-prod-radio-itatiaia.s3.us-east-1.amazonaws.com%2Fbrightspot%2F62%2F39%2F48d3321f45c0a0486830d4fd5971%2Fwhatsapp-image-2024-04-12-at-10-48-39.jpeg"
                    alt="" class="amigo-imagem">
                <span class="amigo-user">ochicoin</span>
            </div>
            <div class="text-comentario">
                <p>Eu tentei!</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}